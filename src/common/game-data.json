{
  "variables": {
    "system": {
      "debug": {"value": true},
      "version": {"value": "0.2.0"}
    },
    "test": {
      "counter": {"value": 0},
      "flag": {"value": false},
      "score": {"value": 100}
    },
    "player": {
      "name": {"value": "测试用户"},
      "level": {"value": 1}
    }
  },
  "nodes": {
    "index": {
      "text": "===BandTwine测试===测试变量：{var.system.version.value}测试项目：{0}{1}{2}{3}{4}{5}{6}{7}",
      "links": [
        {"text": "1. 基础功能测试", "target": "test_basic"},
        {"text": "2. 变量运算测试", "target": "test_variables"},
        {"text": "3. 条件逻辑测试", "target": "test_conditions"},
        {"text": "4. 随机系统测试", "target": "test_random"},
        {"text": "5. 图片系统测试", "target": "test_images"},
        {"text": "6. 存档系统测试", "target": "test_save"},
        {"text": "7. 表达式测试", "target": "test_expressions"},
        {"text": "8. 压力测试", "target": "test_stress"}
      ]
    },
    "test_basic": {
      "text": "=== 基础功能测试 ===1. 文本换行测试2. 特殊符号：&lt;&gt;@#3. 变量显示：{var.test.counter.value}4. 长文本测试：这是一段用于测试文本显示能力的超长文本内容，重复多次以观察效果-这是一段用于测试文本显示能力的超长文本内容。{0}{1}",
      "links": [
        {"text": "返回主节点", "target": "index"},
        {"text": "进入子测试", "target": "test_basic_sub"}
      ]
    },
    "test_basic_sub": {
      "text": "=== 子页面测试 ===测试嵌套页面跳转功能{0}",
      "links": [
        {"text": "返回上级", "target": "test_basic"}
      ]
    },

    "test_variables": {
      "text": "=== 变量运算测试 ===当前计数器：{var.test.counter.value}当前状态：{var.test.flag.value}操作选项：{0}{1}{2}{3}",
      "links": [
        {"text": "计数器+1", "target": "test_variables", "actions": [
          {"type": "add", "target": "var.test.counter.value", "value": 1}
        ]},
        {"text": "切换状态", "target": "test_variables", "actions": [
          {"type": "toggle", "target": "var.test.flag.value"}
        ]},
        {"text": "重置数据", "target": "test_variables", "actions": [
          {"type": "set", "target": "var.test.counter.value", "value": 0},
          {"type": "set", "target": "var.test.flag.value", "value": false}
        ]},
        {"text": "返回主节点", "target": "index"}
      ]
    },

    "test_conditions": {
      "text": "=== 条件逻辑测试 ===计数器：{var.test.counter.value}1. 基础条件：{cond.basic}2. 复杂条件：{cond.complex}3. 嵌套条件：{cond.nested}{0}{1}{2}{3}",
      "links": [
        {"text": "增加计数器", "target": "test_conditions", "actions": [
          {"type": "add", "target": "var.test.counter.value", "value": 1}
        ]},
        {"text":"减少计数器", "target":"test_conditions", "actions": [
          {"type": "add", "target": "var.test.counter.value", "value": -1}
        ]},
        {"text": "切换状态", "target": "test_conditions", "actions": [
          {"type": "toggle", "target": "var.test.flag.value"}
        ]},
        {"text": "返回主节点", "target": "index"}
      ],
      "conds": {
        "basic": [
          {"condition": "var.test.counter.value > 5", "text": "计数器>5"},
          {"text": "计数器≤5"}
        ],
        "complex": [
          {"condition": "var.test.counter.value > 10 && var.test.flag.value", "text": "计数器>10且状态为真"},
          {"condition": "var.test.counter.value < 5 || !var.test.flag.value", "text": "计数器<5或状态为假"},
          {"text": "其他情况"}
        ],
        "nested": [
          {"condition": "var.test.counter.value > 15", "text": "计数器大于15"},
          {"condition": "var.test.counter.value > 10", "text": "计数器大于10"},
          {"condition": "var.test.counter.value > 5", "text": "计数器大于5"},
          {"text": "计数器小于等于5"}
        ]
      }
    },

    "test_random": {
      "text": "=== 随机系统测试 ===1. 基础随机：{random.basic}2. 权重随机：{random.weighted}3. 条件随机：{random.conditional}{0}{1}计数器：{var.test.counter.value}{2}{3}",
      "links": [
        {"text": "重新生成", "target": "test_random"},
        {"text": "返回主节点", "target": "index"},
        {"text": "增加计数器", "target": "test_random", "actions": [
          {"type": "add", "target": "var.test.counter.value", "value": 1}
        ]},
        {"text": "减少计数器", "target": "test_random", "actions": [
          {"type": "add", "target": "var.test.counter.value", "value": -1}
        ]}
      ],
      "randoms": {
        "basic": [
          {"text": "选项A"},
          {"text": "选项B"},
          {"text": "选项C"}
        ],
        "weighted": [
          {"text": "选项1(60%概率)", "weight": 0.6},
          {"text": "选项2(30%概率)", "weight": 0.3},
          {"text": "选项3(10%概率)", "weight": 0.1}
        ],
        "conditional": [
          {"text": "计数器>5时才可能出现", "condition": "var.test.counter.value > 5"},
          {"text": "一般情况"}
        ]
      }
    },

    "test_images": {
      "text": "=== 图片系统测试 ===1. 行内图标：{img.icon} 文本环绕2. 横幅图片：{img.banner}3. 自定义大小：{img.custom}{0}{1}",
      "links": [
        {"text": "切换显示模式", "target": "test_images_alt"},
        {"text": "返回主节点", "target": "index"}
      ],
      "imgs": {
        "icon": {"path": "icon.png", "display": "inline", "width": 40},
        "banner": {"path": "banner.png", "display": "banner"},
        "custom": {"path": "custom.png", "display": "custom", "width": 200}
      }
    },
    "test_images_alt": {
      "text": "=== 图片测试(备选) ===动态路径测试：{img.dynamic}{0}",
      "links": [
        {"text": "返回上级", "target": "test_images"}
      ],
      "imgs": {
        "dynamic": {"path": "{var.player.name.value}.png", "display": "inline"}
      }
    },

    "test_save": {
      "text": "=== 存档系统测试 ===当前状态：- 计数器：{var.test.counter.value}- 状态：{var.test.flag.value}{0}{1}",
      "links": [
        {"text": "修改测试数据", "target": "test_save_modify"},
        {"text": "返回主节点", "target": "index"}
      ]
    },
    "test_save_modify": {
      "text": "=== 修改测试数据 ==={0}{1}{2}",
      "links": [
        {"text": "计数器+5", "target": "test_save_modify", "actions": [
          {"type": "add", "target": "var.test.counter.value", "value": 5}
        ]},
        {"text": "切换状态", "target": "test_save_modify", "actions": [
          {"type": "toggle", "target": "var.test.flag.value"}
        ]},
        {"text": "返回上级", "target": "test_save"}
      ]
    },

    "test_expressions": {
      "text": "=== 表达式测试 ===1. 数学运算10+20*3={var.calc1}2. 变量运算var.test.counter.value*2+5={var.calc2}3. 条件运算：{var.calc3}{0}",
      "actions": [
        {"type": "set", "target": "var.calc1", "value": "10 + 20 * 3"},
        {"type": "set", "target": "var.calc2", "value": "var.test.counter.value * 2 + 5"},
        {"type": "set", "target": "var.calc3", "value": "var.test.counter.value > 5 ? '大于5' : '小于等于5'"}
      ],
      "links": [
        {"text": "返回主节点", "target": "index"}
      ]
    },

    "test_stress": {
      "text": "=== 压力测试 ===1. 长文本：{var.long_text}2. 多变量：{var.var1} {var.var2} {var.var3}3. 复杂条件：{cond.complex}{0}{1}",
      "actions": [
        {"type": "set", "target": "var.long_text", "value": "这是一段非常长的测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本测试文本"},
        {"type": "set", "target": "var.var1", "value": "值1"},
        {"type": "set", "target": "var.var2", "value": "值2"},
        {"type": "set", "target": "var.var3", "value": "值3"}
      ],
      "links": [
        {"text": "进入深度测试", "target": "test_stress_deep"},
        {"text": "返回主节点", "target": "index"}
      ],
      "conds": {
        "complex": [
          {"condition": "var.test.counter.value > 10 && var.test.flag.value || var.player.level.value > 5", "text": "复合条件成立"},
          {"text": "条件不成立"}
        ]
      }
    },
    "test_stress_deep": {
      "text": "=== 深度压力测试 ==={0}{1}{2}",
      "links": [
        {"text": "生成随机数据", "target": "test_stress_deep", "actions": [
          {"type": "set", "target": "var.test.counter.value", "value": "Math.floor(Math.random() * 20)"},
          {"type": "set", "target": "var.test.flag.value", "value": "Math.random() > 0.5"}
        ]},
        {"text": "加载大量图片", "target": "test_stress_images"},
        {"text": "返回上级", "target": "test_stress"}
      ]
    },
    "test_stress_images": {
      "text": "=== 图片压力测试 ==={img.img1}{img.img2}{img.img3}{img.img4}{0}",
      "links": [
        {"text": "返回上级", "target": "test_stress_deep"}
      ],
      "imgs": {
        "img1": {"path": "stress1.jpg", "display": "banner"},
        "img2": {"path": "stress2.jpg", "display": "banner"},
        "img3": {"path": "stress3.jpg", "display": "banner"},
        "img4": {"path": "stress4.jpg", "display": "banner"}
      }
    }
  }
}
